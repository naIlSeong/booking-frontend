(this["webpackJsonpbooking-frontend"]=this["webpackJsonpbooking-frontend"]||[]).push([[0],{103:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(4),i=n(1),o=n.n(i),l=n(75),s=n.n(l),r=n(12),d=n(59),j=n(78),b="token",u=localStorage.getItem(b),m=Object(c.makeVar)(Boolean(u)),x=Object(c.makeVar)(u),h=Object(c.createHttpLink)({uri:"http://3.35.3.251:3333/graphql"}),p=Object(j.a)((function(e,t){var n=t.headers;return{headers:Object(d.a)(Object(d.a)({},n),{},{"x-jwt":u||""})}})),O=new c.ApolloClient({link:p.concat(h),cache:new c.InMemoryCache({typePolicies:{Query:{fields:{isLoggedIn:{read:function(){return m()}},token:{read:function(){return x()}}}}}})}),g=n(11),v=n(18),f=n(81),N=n(8),k=function(){return Object(a.jsx)("footer",{className:"py-7 bg-coolGray-900 relative bottom-0 left-0",children:Object(a.jsxs)("div",{className:"w-full px-9 max-w-screen-2xl mx-auto flex flex-col items-center ",children:[Object(a.jsx)("span",{className:"text-coolGray-300 mb-2",children:"Developer"}),Object(a.jsx)("span",{className:"text-white mb-9 font-semibold text-lg",children:"\ub098\uc77c\uc131"}),Object(a.jsx)("a",{className:"footerLink",target:"_blank",rel:"noreferrer",href:"http://github.com/nailseong",children:Object(a.jsx)(N.a,{icon:f.a,className:"text-5xl"})}),Object(a.jsxs)("div",{className:"mb-2",children:[Object(a.jsxs)("span",{className:"text-coolGray-300 font-semibold",children:["Backend Repository"," "]}),Object(a.jsxs)("a",{className:"footerLink",target:"_blank",rel:"noreferrer",href:"http://github.com/nailseong/booking-api",children:[" ","@Github \u2192"]})]}),Object(a.jsx)("a",{className:"footerLink",target:"_blank",rel:"noreferrer",href:"mailto:ilseongdev@gmail.com",children:Object(a.jsx)("span",{children:"ilseongdev@gmail.com"})})]})})},y=n(9),w=function(){var e=Object(c.useReactiveVar)(m),t=Object(v.g)();return Object(a.jsx)("header",{className:"py-5 bg-coolGray-800 fixed w-screen top-0 left-0",children:Object(a.jsx)("div",{className:"w-full px-9 max-w-screen-2xl mx-auto flex justify-between items-center",children:e?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"w-4/12",children:Object(a.jsx)(g.b,{to:"/",children:Object(a.jsx)("span",{className:"title text-3xl font-medium tracking-wider pb-0",children:"BOOKING"})})}),Object(a.jsxs)("div",{className:"flex justify-evenly w-full text-center ",children:[Object(a.jsx)(g.b,{to:"/create-in-use",children:Object(a.jsx)("span",{className:"title text-xl font-medium tracking-wider pb-0",children:"Create In Use"})}),Object(a.jsx)(g.b,{to:"/create-booking",children:Object(a.jsx)("span",{className:"title text-xl font-medium tracking-wider pb-0",children:"Create Booking"})}),Object(a.jsx)(g.b,{to:"/teams",children:Object(a.jsx)("span",{className:"title text-xl font-medium tracking-wider pb-0",children:"Teams"})}),Object(a.jsx)(g.b,{to:"/places",children:Object(a.jsx)("span",{className:"title text-xl font-medium tracking-wider pb-0",children:"Places"})})]}),Object(a.jsx)("div",{className:"w-3/12 text-right ",children:Object(a.jsx)("span",{className:"title text-xl font-bold tracking-wider pb-0 cursor-pointer",onClick:function(){localStorage.removeItem(b),x(null),t.push("/logout"),window.location.reload(!1)},children:"LOG OUT"})}),Object(a.jsx)("div",{className:"w-1/12 text-right",children:Object(a.jsx)(g.b,{to:"/my-profile",children:Object(a.jsx)(N.a,{icon:y.q,className:"title text-4xl pb-0"})})})]}):Object(a.jsx)("div",{className:"w-2/12",children:Object(a.jsx)(g.b,{to:"/",children:Object(a.jsx)("span",{className:"title text-3xl font-medium tracking-wider pb-0",children:"BOOKING"})})})})})},T=function(){return Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Not Found"})}),Object(a.jsx)("h1",{className:"text-9xl text-coolGray-200 font-bold tracking-wide",children:"404"}),Object(a.jsx)("h4",{className:"text-3xl text-coolGray-200 font-semibold pb-6 tracking-wide",children:"Not Found :("}),Object(a.jsxs)("h6",{className:"py-2 text-coolGray-300",children:["Sorry, but the page you are looking for is not found."," "]}),Object(a.jsx)(g.b,{to:"/",className:"text-coolGray-400 hover:underline",children:"Home \u2192"})]})},G=n(10),C=n(7),L=n(17),I=function(e){var t=e.canClick,n=e.loading,c=e.actionText;return Object(a.jsx)("button",{className:"text-white font-semibold py-3 mt-3 focus:outline-none ".concat(t?"bg-indigo-600 hover:bg-indigo-800 transition-colors duration-500":"bg-gray-500 pointer-events-none"),children:n?"Loading...":c})},B=function(e){var t=e.canClick,n=e.actionText,c=e.onClick,i=e.type;return Object(a.jsx)("button",{type:i,onClick:c,className:"w-auto text-coolGray-200 text-center  rounded-md px-3 py-2 font-medium ".concat(t?"bg-coolGray-900 hover:bg-black transition-colors duration-500":"bg-gray-500 pointer-events-none"),children:n})},q=function(e){var t=e.errorMessage;return Object(a.jsx)("span",{className:"errorMessage",children:t})};function A(){var e=Object(C.a)(["\n  query getAvailablePlace($input: GetAvailablePlaceInput!) {\n    getAvailablePlace(input: $input) {\n      ok\n      error\n      places {\n        id\n        placeName\n      }\n    }\n  }\n"]);return A=function(){return e},e}var S=Object(c.gql)(A()),D=function(e){return Object(c.useLazyQuery)(S,{variables:{input:{locationId:e}}})};function F(){var e=Object(C.a)(["\n  query getLocationQuery {\n    getLocation {\n      ok\n      error\n      locations {\n        id\n        locationName\n      }\n    }\n  }\n"]);return F=function(){return e},e}var U=Object(c.gql)(F()),M=function(){return Object(c.useQuery)(U)};function P(){var e=Object(C.a)(["\n  mutation createInUse($input: CreateInUseInput!) {\n    createInUse(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return P=function(){return e},e}var $=Object(c.gql)(P()),E=function(){var e,t=Object(L.a)({mode:"onChange"}),n=t.register,i=t.getValues,o=t.handleSubmit,l=t.formState,s=D(+i().location),d=Object(G.a)(s,2),j=d[0],b=d[1],u=b.data,m=b.loading,x=M(),h=x.data,p=x.loading,O=Object(v.g)(),g=Object(c.useMutation)($,{onCompleted:function(e){e.createInUse.ok&&(O.push("/"),window.location.reload(!1))}}),f=Object(G.a)(g,2),N=f[0],k=f[1],y=k.data,w=k.loading;return Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Create In Use"})}),p?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title w-max",children:"Create In Use"}),Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("label",{htmlFor:"location-select",className:"bookingTime text-2xl",children:"Location"})}),Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"location-select",name:"location",className:"w-full mr-4",ref:n({}),children:[Object(a.jsx)("option",{value:"",children:"=======Select Location======="}),(null===h||void 0===h?void 0:h.getLocation.locations)&&h.getLocation.locations.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.locationName},t)}))]}),Object(a.jsx)(B,{canClick:l.isDirty,actionText:"Search!",onClick:function(){return j()},type:"button"})]})]}),(null===u||void 0===u?void 0:u.getAvailablePlace.error)&&Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(q,{errorMessage:u.getAvailablePlace.error})}),Object(a.jsxs)("form",{className:"my-4",onSubmit:o((function(){if(!w){var e=i(),t=e.place,n=e.withTeam;"withTeam"===n&&N({variables:{input:{placeId:+t,withTeam:!0}}}),n||N({variables:{input:{placeId:+t,withTeam:!1}}})}})),children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"Place"}),m?Object(a.jsx)("div",{className:"w-full text-center font-medium text-2xl text-coolGray-200",children:"Loading..."}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"place-select",name:"place",className:"w-full mr-4",ref:n({}),children:[(null===u||void 0===u?void 0:u.getAvailablePlace.places)?Object(a.jsx)("option",{value:"",children:"=====Select Place====="}):Object(a.jsx)("option",{value:"",children:"=====Search Location First====="}),(null===u||void 0===u?void 0:u.getAvailablePlace.places)&&(null===(e=u.getAvailablePlace.places)||void 0===e?void 0:e.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.placeName},t)})))]}),Object(a.jsx)(B,{canClick:l.isDirty,actionText:"Create!",type:"submit"})]})})]}),(null===y||void 0===y?void 0:y.createInUse.error)&&Object(a.jsx)(q,{errorMessage:y.createInUse.error}),Object(a.jsxs)("div",{className:"flex w-full justify-end items-center text-xl text-coolGray-200 font-medium",children:[Object(a.jsx)("input",{ref:n(),type:"checkbox",value:"withTeam",className:"mx-2",name:"withTeam"}),Object(a.jsx)("label",{children:"With Team?"})]}),w&&Object(a.jsx)("div",{className:"flex w-full justify-center items-center text-xl text-coolGray-200 font-medium py-5",children:"Loading..."})]})})]})};function V(){var e=Object(C.a)(["\n  mutation createBooking($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return V=function(){return e},e}var Q=Object(c.gql)(V()),R=function(){var e,t,n,i=Object(L.a)({mode:"onChange"}),o=i.register,l=i.getValues,s=i.handleSubmit,d=i.formState,j=i.errors,b=D(+l().location),u=Object(G.a)(b,2),m=u[0],x=u[1],h=x.data,p=x.loading,O=M(),g=O.data,f=O.loading,N=Object(v.g)(),k=Object(c.useMutation)(Q,{onCompleted:function(e){e.createBooking.ok&&(N.push("/"),window.location.reload(!1))}}),y=Object(G.a)(k,2),w=y[0],T=y[1],C=T.data,I=T.loading;return Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Create Booking"})}),f?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title w-max",children:"Create Booking"}),Object(a.jsxs)("form",{className:"",children:[Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"Start Time"}),Object(a.jsx)("input",{ref:o({required:!0}),className:"w-full p-2",type:"datetime-local",name:"startAt"})]}),Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"End Time"}),Object(a.jsx)("input",{ref:o({required:!0}),className:"w-full p-2",type:"datetime-local",name:"endAt"})]})]}),Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("label",{htmlFor:"location-select",className:"bookingTime text-2xl",children:"Location"})}),Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"location-select",name:"location",className:"w-full mr-4",ref:o({}),children:[Object(a.jsx)("option",{value:"",children:"=======Select Location======="}),(null===g||void 0===g?void 0:g.getLocation.locations)&&g.getLocation.locations.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.locationName},t)}))]}),Object(a.jsx)(B,{canClick:d.isDirty,actionText:"Search!",onClick:function(){return m()},type:"button"})]})]}),(null===h||void 0===h?void 0:h.getAvailablePlace.error)&&Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(q,{errorMessage:h.getAvailablePlace.error})}),Object(a.jsxs)("form",{className:"my-4",onSubmit:s((function(){var e=l(),t=e.place,n=e.withTeam,a=e.startAt,c=e.endAt;"withTeam"===n&&w({variables:{input:{placeId:+t,withTeam:!0,startAt:a,endAt:c}}}),n||w({variables:{input:{placeId:+t,withTeam:!1,startAt:a,endAt:c}}})})),children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"Place"}),p?Object(a.jsx)("div",{className:"w-full text-center font-medium text-2xl text-coolGray-200",children:"Loading..."}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"place-select",name:"place",className:"w-full mr-4",ref:o({}),children:[(null===h||void 0===h?void 0:h.getAvailablePlace.places)?Object(a.jsx)("option",{value:"",children:"=====Select Place====="}):Object(a.jsx)("option",{value:"",children:"=====Search Location First====="}),(null===h||void 0===h?void 0:h.getAvailablePlace.places)&&(null===(e=h.getAvailablePlace.places)||void 0===e?void 0:e.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.placeName},t)})))]}),Object(a.jsx)(B,{canClick:d.isDirty,actionText:"Create!",type:"submit"})]})})]}),(null===C||void 0===C?void 0:C.createBooking.error)&&Object(a.jsx)(q,{errorMessage:C.createBooking.error}),Object(a.jsxs)("div",{className:"flex w-full justify-end items-center text-xl text-coolGray-200 font-medium",children:[Object(a.jsx)("input",{ref:o(),type:"checkbox",value:"withTeam",className:"mx-2",name:"withTeam"}),Object(a.jsx)("label",{children:"With Team?"})]}),I&&Object(a.jsx)("div",{className:"flex w-full justify-center items-center text-xl text-coolGray-200 font-medium py-5",children:"Loading..."}),"required"===(null===(t=j.startAt)||void 0===t?void 0:t.type)&&Object(a.jsx)(q,{errorMessage:"Start time is required"}),"required"===(null===(n=j.endAt)||void 0===n?void 0:n.type)&&Object(a.jsx)(q,{errorMessage:"End time is required"})]})})]})},W=n(52),H=function(e){var t=e.split("-"),n=Object(G.a)(t,3),a=n[0],c=n[1],i=n[2],o=a.slice(0,2),l=i.slice(0,2),s=i.split(":"),r=Object(G.a)(s,2),d=r[0],j=r[1],b=d.slice(3,5),u=(parseInt(b)+9).toString();return"".concat(o,"/").concat(c,"/").concat(l," ").concat(u,":").concat(j)},z=function(e){var t=e.hours,n=e.minutes,c=e.seconds;return e.completed?Object(a.jsx)("span",{className:"text-red-500 font-bold",children:"Finished!"}):0===t&&n<10?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("span",{className:"text-coolGray-300 font-normal mx-1",children:[t,"h ",n<10?"0".concat(n):n,"m",c<10?"0".concat(c):c,"s"]})," ",Object(a.jsx)("span",{className:"text-red-500 font-bold px-2",children:"Can extend!"})]}):Object(a.jsxs)("span",{className:"text-coolGray-300 font-normal",children:[t,"h ",n<10?"0".concat(n):n,"m"," ",c<10?"0".concat(c):c,"s"]})},J=function(e){var t=e.hours,n=e.minutes,c=e.seconds;return e.completed?Object(a.jsx)("span",{className:"text-red-500 font-bold",children:"Finished!"}):Object(a.jsxs)("span",{className:"text-coolGray-300 font-normal",children:[t,"h ",n<10?"0".concat(n):n,"m"," ",c<10?"0".concat(c):c,"s"]})};function _(){var e=Object(C.a)(["\n  query getBooking($input: GetBookingInput!) {\n    getBooking(input: $input) {\n      ok\n      error\n      bookings {\n        id\n        place {\n          id\n          placeName\n          placeLocation {\n            id\n            locationName\n          }\n        }\n        startAt\n        endAt\n        isFinished\n        inUse\n        canExtend\n        team {\n          id\n        }\n      }\n    }\n  }\n"]);return _=function(){return e},e}var K=Object(c.gql)(_());function Y(){var e=Object(C.a)(["\n  mutation finishInUse($input: FinishInUseInput!) {\n    finishInUse(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return Y=function(){return e},e}function X(){var e=Object(C.a)(["\n  mutation extendInUse($input: ExtendInUseInput!) {\n    extendInUse(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return X=function(){return e},e}var Z=Object(c.gql)(X()),ee=Object(c.gql)(Y()),te=function(){var e,t,n,i,o=Object(c.useQuery)(K,{variables:{input:{isInProgress:!0}}}),l=o.data,s=o.loading,d=Object(c.useQuery)(K,{variables:{input:{isComingUp:!0}}}),j=d.data,b=d.loading,u=Object(c.useMutation)(Z,{onCompleted:function(e){e.extendInUse.ok&&window.location.reload(!1)}}),m=Object(G.a)(u,2),x=m[0],h=m[1],p=h.data,O=h.loading,f=Object(c.useMutation)(ee,{onCompleted:function(e){e.finishInUse.ok&&window.location.reload(!1)}}),k=Object(G.a)(f,2),w=k[0],T=k[1],C=T.data,L=T.loading,I=Object(v.g)();return setInterval((function(){return window.location.reload(!1)}),3e5),Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking"})}),s&&b?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsxs)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:[Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title w-max",children:"In progress"}),(null===p||void 0===p?void 0:p.extendInUse.error)&&Object(a.jsx)("div",{className:"pb-5 flex justify-center",children:Object(a.jsx)(q,{errorMessage:p.extendInUse.error})}),0!==(null===l||void 0===l||null===(e=l.getBooking.bookings)||void 0===e?void 0:e.length)?null===l||void 0===l||null===(t=l.getBooking.bookings)||void 0===t?void 0:t.map((function(e,t){var n;return Object(a.jsxs)("div",{className:"bookingArgs",children:[Object(a.jsxs)("div",{className:"bookingTime",children:[Object(a.jsxs)("span",{className:"hover:underline cursor-pointer",onClick:function(){return I.push("/booking/".concat(e.id))},children:[H(e.startAt)," ~ ",H(e.endAt)]}),(null===(n=e.team)||void 0===n?void 0:n.id)&&Object(a.jsx)("span",{className:"px-2 ml-3 rounded-lg bg-coolGray-700 cursor-pointer",onClick:function(){var t;return I.push("/team/".concat(null===(t=e.team)||void 0===t?void 0:t.id))},children:"With Team"}),Object(a.jsx)("span",{className:"px-2 ml-auto rounded-lg bg-red-700 hover:bg-red-900 transition-colors duration-500 cursor-pointer",onClick:function(){L||w({variables:{input:{bookingId:e.id}}})},children:L?"Loading":"Finish"})]}),(null===C||void 0===C?void 0:C.finishInUse.error)&&Object(a.jsx)(q,{errorMessage:C.finishInUse.error}),Object(a.jsxs)("div",{className:"mb-4 w-auto flex items-center",children:[Object(a.jsx)(N.a,{icon:y.e,className:"text-coolGray-200"})," ",Object(a.jsx)(W.a,{date:e.endAt,renderer:z}),!0===e.canExtend?Object(a.jsx)("span",{className:"text-red-600 font-bold cursor-pointer hover:underline ml-auto px-1",onClick:function(){return t=e.id,void(O||x({variables:{input:{bookingId:t}}}));var t},children:"Extend!"}):Object(a.jsx)(a.Fragment,{})]}),Object(a.jsxs)("div",{className:"text-coolGray-400 py-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{className:"hover:underline cursor-pointer",onClick:function(){return I.push("/place/".concat(e.place.id))},children:e.place.placeName}),Object(a.jsx)("span",{className:"font-semibold text-coolGray-200",children:" \u2219 "}),Object(a.jsx)("span",{children:e.place.placeLocation.locationName})]})]},t)})):Object(a.jsxs)("div",{className:"flex flex-col items-center mb-12 mt-4",children:[Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Booking :("}),Object(a.jsx)(g.b,{to:"/create-in-use",className:"text-coolGray-300 font-light hover:underline",children:"Create inUse booking \u2192"})]})]}),Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title w-auto",children:"Coming up next"}),0!==(null===j||void 0===j||null===(n=j.getBooking.bookings)||void 0===n?void 0:n.length)?null===j||void 0===j||null===(i=j.getBooking.bookings)||void 0===i?void 0:i.map((function(e,t){var n;return Object(a.jsxs)("div",{className:"bookingArgs",children:[Object(a.jsxs)("div",{className:"bookingTime",children:[Object(a.jsxs)("span",{className:"hover:underline cursor-pointer",onClick:function(){return I.push("/booking/".concat(e.id))},children:[H(e.startAt)," ~ ",H(e.endAt)]}),(null===(n=e.team)||void 0===n?void 0:n.id)&&Object(a.jsx)("span",{className:"px-2 ml-3 rounded-lg bg-coolGray-700 cursor-pointer",onClick:function(){var t;return I.push("/team/".concat(null===(t=e.team)||void 0===t?void 0:t.id))},children:"With Team"})]}),Object(a.jsxs)("div",{className:"text-coolGray-400 py-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{className:"hover:underline cursor-pointer",onClick:function(){return I.push("/place/".concat(e.place.id))},children:e.place.placeName}),Object(a.jsx)("span",{className:"font-semibold text-coolGray-200",children:" \u2219 "}),Object(a.jsx)("span",{children:e.place.placeLocation.locationName})]})]},t)})):Object(a.jsxs)("div",{className:"flex flex-col items-center mb-12 mt-4",children:[Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Booking :("}),Object(a.jsx)(g.b,{to:"/create-booking",className:"text-coolGray-300 font-light hover:underline",children:"Create new booking \u2192"})]})]})]})]})};function ne(){var e=Object(C.a)(["\n  query meQuery {\n    me {\n      id\n      username\n      role\n      studentEmail\n      studentId\n      team {\n        id\n        teamName\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var ae=Object(c.gql)(ne()),ce=function(){return Object(c.useQuery)(ae)},ie=function(){var e,t,n=Object(v.g)(),i=ce(),o=i.data,l=i.loading,s=Object(c.useQuery)(K,{variables:{input:{isFinished:!0}}}),d=s.data,j=s.loading;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - MyProfile"})}),Object(a.jsxs)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:[l?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsxs)("div",{className:"flex justify-between items-center pb-8",children:[Object(a.jsx)("span",{className:"title w-max pb-0",children:"Your Profile"}),Object(a.jsx)("button",{className:"bg-coolGray-900 hover:bg-black transition-colors duration-500 text-coolGray-200 text-center  rounded-md px-3 py-2 font-medium",onClick:function(){return n.push("/edit-profile")},children:"Edit Profile"})]}),Object(a.jsx)("div",{className:"text-coolGray-200 font-medium grid gap-2 my-4",children:(null===o||void 0===o?void 0:o.me)&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{children:[" \u2219 ",o.me.username]}),Object(a.jsx)("div",{children:null===o.me.studentEmail?" \u2219 No StudentEmail":" \u2219 ".concat(o.me.studentEmail)}),Object(a.jsxs)("div",{children:[" \u2219 ",o.me.role]}),Object(a.jsx)("div",{children:null===o.me.team?" \u2219 No Team":Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{children:" \u2219 "}),Object(a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:function(){var e;return n.push("/team/".concat(null===(e=o.me.team)||void 0===e?void 0:e.id))},children:o.me.team.teamName})]})})]})})]}),Object(a.jsx)("div",{className:"bookingList",children:Object(a.jsxs)("div",{className:"flex flex-col justify-between pb-8",children:[Object(a.jsx)("span",{className:"title w-max",children:"Finished Booking"}),Object(a.jsx)("div",{children:j?Object(a.jsx)("div",{className:"text-white text-2xl font-semibold tracking-wider w-auto my-4 text-center",children:"Loading..."}):0!==(null===d||void 0===d||null===(e=d.getBooking.bookings)||void 0===e?void 0:e.length)?null===d||void 0===d||null===(t=d.getBooking.bookings)||void 0===t?void 0:t.map((function(e,t){var c;return Object(a.jsxs)("div",{className:"bookingArgs",children:[Object(a.jsxs)("div",{className:"bookingTime",children:[Object(a.jsxs)("span",{className:"hover:underline cursor-pointer",onClick:function(){return n.push("/booking/".concat(e.id))},children:[H(e.startAt)," ~ ",H(e.endAt)]}),(null===(c=e.team)||void 0===c?void 0:c.id)&&Object(a.jsx)("span",{className:"px-2 ml-3 rounded-lg bg-coolGray-700 cursor-pointer",onClick:function(){var t;return n.push("/team/".concat(null===(t=e.team)||void 0===t?void 0:t.id))},children:"With Team"})]}),Object(a.jsxs)("div",{className:"text-coolGray-400 pt-6 pb-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{className:"hover:underline cursor-pointer",onClick:function(){return n.push("/place/".concat(e.place.id))},children:e.place.placeName}),Object(a.jsxs)("span",{className:"font-semibold text-coolGray-200",children:[" ","\u2219"," "]}),Object(a.jsx)("span",{children:e.place.placeLocation.locationName})]})]},t)})):Object(a.jsx)("div",{className:"flex flex-col items-center my-4",children:Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Booking :("})})})]})})]})]})};function oe(){var e=Object(C.a)(["\n  mutation deleteUser {\n    deleteUser {\n      ok\n      error\n    }\n  }\n"]);return oe=function(){return e},e}function le(){var e=Object(C.a)(["\n  mutation editUser($input: EditUserInput!) {\n    editUser(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return le=function(){return e},e}var se=Object(c.gql)(le()),re=Object(c.gql)(oe()),de=function(){var e,t,n=Object(v.g)(),i=ce(),o=i.data,l=i.loading,s=Object(L.a)({mode:"onChange"}),d=s.getValues,j=s.register,u=s.errors,m=s.handleSubmit,h=s.formState,p=Object(c.useMutation)(se,{onCompleted:function(e){var t=e.editUser.ok,a=d().password;t&&(a?(localStorage.removeItem(b),x(null),n.push("/logout"),window.location.reload(!1)):(n.push("/my-profile"),window.location.reload(!1)))}}),O=Object(G.a)(p,2),g=O[0],f=O[1],N=f.data,k=f.loading,y=Object(c.useMutation)(re,{onCompleted:function(e){e.deleteUser.ok&&(localStorage.removeItem(b),x(null),n.push("/logout"),window.location.reload(!1))}}),w=Object(G.a)(y,2),T=w[0],C=w[1],B=C.data,A=C.loading;return Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Edit Profile"})}),Object(a.jsx)("div",{className:"title",children:"Edit Profile"}),Object(a.jsxs)("form",{className:"grid gap-4 w-5/12",onSubmit:m((function(){if(!k){var e=d(),t=e.username,n=e.password,a=e.studentId;g({variables:{input:{username:t||void 0,password:n||void 0,studentId:a||void 0}}})}})),children:[l?Object(a.jsx)("div",{className:"text-white text-2xl font-semibold tracking-wider w-auto my-4 text-center",children:"Loading..."}):Object(a.jsxs)(a.Fragment,{children:[" ",Object(a.jsx)("input",{ref:j({required:!1}),name:"username",type:"text",className:"input",placeholder:"Username  *optional",defaultValue:null===o||void 0===o?void 0:o.me.username,autoFocus:!0}),Object(a.jsx)("input",{ref:j({required:!1,minLength:8}),name:"password",type:"password",className:"input",placeholder:"Password   *optional"}),"minLength"===(null===(e=u.password)||void 0===e?void 0:e.type)&&Object(a.jsx)(q,{errorMessage:"Password should be more than or equal 8 chars"}),Object(a.jsx)("input",{ref:j({required:!1,valueAsNumber:!0,validate:function(e){return!e||e&&6===e.toString().length}}),name:"studentId",type:"text",className:"input",placeholder:"Student ID  *optional",defaultValue:(null===o||void 0===o?void 0:o.me.studentId)?o.me.studentId:""}),"validate"===(null===(t=u.studentId)||void 0===t?void 0:t.type)&&Object(a.jsx)(q,{errorMessage:"Student ID should be equal 6 numbers"}),Object(a.jsx)(I,{canClick:h.isValid,loading:k,actionText:"Update"})]}),(null===N||void 0===N?void 0:N.editUser.error)&&Object(a.jsx)(q,{errorMessage:N.editUser.error}),Object(a.jsx)("button",{className:"text-white font-semibold py-3 mt-12 focus:outline-none bg-red-700 hover:bg-red-900 transition-colors duration-500",onClick:function(){A||T({})},type:"button",children:A?"Loading...":"Delete Account"}),(null===B||void 0===B?void 0:B.deleteUser.error)&&Object(a.jsx)(q,{errorMessage:B.deleteUser.error})]})]})};function je(){var e=Object(C.a)(["\n  query bookingDetail($input: BookingDetailInput!) {\n    bookingDetail(input: $input) {\n      ok\n      error\n      booking {\n        id\n        place {\n          id\n          placeName\n          placeLocation {\n            id\n            locationName\n          }\n        }\n        team {\n          id\n          teamName\n        }\n        creator {\n          id\n          username\n          role\n        }\n        startAt\n        endAt\n        inUse\n        isFinished\n      }\n    }\n  }\n"]);return je=function(){return e},e}var be=Object(c.gql)(je()),ue=function(e){return Object(c.useQuery)(be,{variables:{input:{bookingId:+e}}})};function me(){var e=Object(C.a)(["\n  mutation deleteBooking($input: DeleteBookingInput!) {\n    deleteBooking(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return me=function(){return e},e}var xe=Object(c.gql)(me()),he=function(){var e,t,n=function(e){var t=e.split("-"),n=Object(G.a)(t,3),a=n[0],c=n[1],i=n[2],o=a.slice(0,2),l=i.slice(0,2),s=i.split(":"),r=Object(G.a)(s,2),d=r[0],j=r[1],b=d.slice(3,5),u=(parseInt(b)+9).toString();return"".concat(o,"/").concat(c,"/").concat(l," ").concat(u,":").concat(j)},i=Object(v.g)(),o=Object(v.i)().id,l=ce(),s=l.data,d=l.loading,j=ue(o),b=j.data,u=j.loading,m=Object(c.useMutation)(xe,{onCompleted:function(e){e.deleteBooking.ok&&(i.push("/"),window.location.reload(!1))}}),x=Object(G.a)(m,2),h=x[0],p=x[1],O=p.data,g=p.loading;return!1===(null===b||void 0===b?void 0:b.bookingDetail.ok)&&b.bookingDetail.error?Object(a.jsx)(T,{}):Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Booking Detail"})}),Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:u?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsxs)("div",{className:"flex items-center pb-8",children:[Object(a.jsx)("span",{className:"title w-auto pb-0",children:"Booking Info"}),!d&&s&&(null===b||void 0===b||null===(e=b.bookingDetail.booking)||void 0===e?void 0:e.creator.id)===s.me.id&&Object(a.jsx)(a.Fragment,{children:!1===(null===(t=b.bookingDetail.booking)||void 0===t?void 0:t.isFinished)&&!1===b.bookingDetail.booking.inUse?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-coolGray-900 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){var e;i.push("/edit-booking/".concat(null===b||void 0===b||null===(e=b.bookingDetail.booking)||void 0===e?void 0:e.id))},children:"Edit"}),Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-4 py-1.5 ml-3 rounded-lg bg-red-700 hover:bg-red-900 transition-colors duration-500 cursor-pointer",onClick:function(){!g&&(null===b||void 0===b?void 0:b.bookingDetail.booking)&&h({variables:{input:{bookingId:b.bookingDetail.booking.id}}})},children:g?"Loading":"Delete"})]}):Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-4 py-1.5 ml-auto rounded-lg bg-red-700 hover:bg-red-900 transition-colors duration-500 cursor-pointer",onClick:function(){!g&&(null===b||void 0===b?void 0:b.bookingDetail.booking)&&h({variables:{input:{bookingId:b.bookingDetail.booking.id}}})},children:g?"Loading":"Delete"})})]}),(null===b||void 0===b?void 0:b.bookingDetail.booking)&&b.bookingDetail.booking.creator&&Object(a.jsxs)("div",{className:"text-coolGray-200 font-medium grid gap-2 my-4 text-xl",children:[Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.h})," Start Time :"," ",n(b.bookingDetail.booking.startAt)]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.g})," End Time :"," ",n(b.bookingDetail.booking.endAt)]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.j})," Location :"," ",Object(a.jsx)("span",{children:b.bookingDetail.booking.place.placeLocation.locationName})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.k})," Place :"," ",Object(a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:function(){var e;return i.push("/place/".concat(null===(e=b.bookingDetail.booking)||void 0===e?void 0:e.place.id))},children:b.bookingDetail.booking.place.placeName})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.p})," Creator :"," ",Object(a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:function(){var e;return i.push("/user/".concat(null===(e=b.bookingDetail.booking)||void 0===e?void 0:e.creator.id))},children:b.bookingDetail.booking.creator.username})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.r})," Team :"," ",Object(a.jsx)("span",{className:null!==b.bookingDetail.booking.team?"cursor-pointer hover:underline":"",onClick:function(){var e,t,n;null!==(null===(e=b.bookingDetail.booking)||void 0===e?void 0:e.team)&&i.push("/team/".concat(null===(t=b.bookingDetail.booking)||void 0===t||null===(n=t.team)||void 0===n?void 0:n.id))},children:null!==b.bookingDetail.booking.team?b.bookingDetail.booking.team.teamName:"No Team"})]})]}),(null===O||void 0===O?void 0:O.deleteBooking.error)&&Object(a.jsx)(q,{errorMessage:O.deleteBooking.error})]})})]})};function pe(){var e=Object(C.a)(["\n  mutation editBooking($input: EditBookingInput!) {\n    editBooking(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return pe=function(){return e},e}var Oe=Object(c.gql)(pe()),ge=function(){var e,t,n,i,o=Object(v.g)(),l=Object(v.i)().id,s=ce(),d=(s.data,s.loading,ue(l)),j=d.data,b=d.loading,u=Object(L.a)({mode:"onChange"}),m=u.register,x=u.getValues,h=u.handleSubmit,p=u.formState,O=u.errors,g=D(+x().location),f=Object(G.a)(g,2),N=f[0],k=f[1],y=k.data,w=k.loading,T=M(),C=T.data,I=T.loading,A=Object(c.useMutation)(Oe,{onCompleted:function(e){var t;e.editBooking.ok&&(o.push("/booking/".concat(null===j||void 0===j||null===(t=j.bookingDetail.booking)||void 0===t?void 0:t.id)),window.location.reload(!1))}}),S=Object(G.a)(A,2),F=S[0],U=S[1],P=U.data,$=U.loading;return Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Edit Booking"})}),b&&I?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title w-max",children:"Edit Booking"}),Object(a.jsxs)("form",{className:"",children:[Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"Start Time"}),Object(a.jsx)("input",{ref:m({required:!0}),className:"w-full p-2",type:"datetime-local",name:"startAt",defaultValue:null===j||void 0===j||null===(e=j.bookingDetail.booking)||void 0===e?void 0:e.startAt})]}),Object(a.jsxs)("div",{className:"my-4",children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"End Time"}),Object(a.jsx)("input",{ref:m({required:!0}),className:"w-full p-2",type:"datetime-local",name:"endAt"})]})]}),Object(a.jsxs)("form",{children:[Object(a.jsx)("div",{children:Object(a.jsx)("label",{htmlFor:"location-select",className:"bookingTime text-2xl",children:"Location"})}),Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"location-select",name:"location",className:"w-full mr-4",ref:m({}),children:[Object(a.jsx)("option",{value:"",children:"=======Select Location======="}),(null===C||void 0===C?void 0:C.getLocation.locations)&&C.getLocation.locations.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.locationName},t)}))]}),Object(a.jsx)(B,{canClick:p.isDirty,actionText:"Search!",onClick:function(){return N()},type:"button"})]})]}),(null===y||void 0===y?void 0:y.getAvailablePlace.error)&&Object(a.jsx)("div",{className:"my-4",children:Object(a.jsx)(q,{errorMessage:y.getAvailablePlace.error})}),Object(a.jsxs)("form",{className:"my-4",onSubmit:h((function(){var e=x(),t=e.place,n=e.startAt,a=e.endAt,c=e.withTeam;(null===j||void 0===j?void 0:j.bookingDetail.booking)&&("withTeam"===c&&F({variables:{input:{placeId:+t,startAt:n,endAt:a,bookingId:j.bookingDetail.booking.id,withTeam:!0}}}),c||F({variables:{input:{placeId:+t,startAt:n,endAt:a,bookingId:j.bookingDetail.booking.id,withTeam:!1}}}))})),children:[Object(a.jsx)("label",{htmlFor:"place-select",className:"bookingTime text-2xl",children:"Place"}),w?Object(a.jsx)("div",{className:"w-full text-center font-medium text-2xl text-coolGray-200",children:"Loading..."}):Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"flex justify-between",children:[Object(a.jsxs)("select",{id:"place-select",name:"place",className:"w-full mr-4",ref:m({}),children:[(null===y||void 0===y?void 0:y.getAvailablePlace.places)?Object(a.jsx)("option",{value:"",children:"=====Select Place====="}):Object(a.jsx)("option",{value:"",children:"=====Search Location First====="}),(null===y||void 0===y?void 0:y.getAvailablePlace.places)&&(null===(t=y.getAvailablePlace.places)||void 0===t?void 0:t.map((function(e,t){return Object(a.jsx)("option",{value:e.id,children:e.placeName},t)})))]}),Object(a.jsx)(B,{canClick:p.isDirty,actionText:"Update!",type:"submit"})]})})]}),Object(a.jsxs)("div",{className:"flex w-full justify-end items-center text-xl text-coolGray-200 font-medium",children:[Object(a.jsx)("input",{ref:m(),type:"checkbox",value:"withTeam",className:"mx-2",name:"withTeam"}),Object(a.jsx)("label",{children:"With Team?"})]}),$&&Object(a.jsx)("div",{className:"flex w-full justify-center items-center text-xl text-coolGray-200 font-medium py-5",children:"Loading..."}),"required"===(null===(n=O.startAt)||void 0===n?void 0:n.type)&&Object(a.jsx)(q,{errorMessage:"Start time is required"}),"required"===(null===(i=O.endAt)||void 0===i?void 0:i.type)&&Object(a.jsx)(q,{errorMessage:"End time is required"}),(null===P||void 0===P?void 0:P.editBooking.error)&&Object(a.jsx)(q,{errorMessage:P.editBooking.error})]})})]})};function ve(){var e=Object(C.a)(["\n  query teamDetail($input: TeamDetailInput!) {\n    teamDetail(input: $input) {\n      ok\n      error\n      team {\n        id\n        teamName\n        members {\n          id\n          username\n          role\n        }\n      }\n    }\n  }\n"]);return ve=function(){return e},e}var fe,Ne=Object(c.gql)(ve()),ke=function(e){return Object(c.useQuery)(Ne,{variables:{input:{teamId:+e}}})};function ye(){var e=Object(C.a)(["\n  mutation leaveTeam {\n    leaveTeam {\n      ok\n      error\n    }\n  }\n"]);return ye=function(){return e},e}function we(){var e=Object(C.a)(["\n  mutation registerMember($input: RegisterMemberInput!) {\n    registerMember(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return we=function(){return e},e}!function(e){e.Admin="Admin",e.Individual="Individual",e.Member="Member",e.Representative="Representative"}(fe||(fe={}));var Te=Object(c.gql)(we()),Ge=Object(c.gql)(ye()),Ce=function(){var e,t,n,i,o=Object(v.g)(),l=Object(v.i)().id,s=ce(),d=s.data,j=s.loading,b=ke(l),u=b.data,m=b.loading,x=Object(c.useMutation)(Te,{onCompleted:function(e){e.registerMember.ok&&window.location.reload(!1)}}),h=Object(G.a)(x,2),p=h[0],O=h[1],g=O.data,f=O.loading,k=Object(c.useMutation)(Ge,{onCompleted:function(e){e.leaveTeam.ok&&window.location.reload(!1)}}),w=Object(G.a)(k,2),C=w[0],L=w[1],I=L.data,B=L.loading;return!1===(null===u||void 0===u?void 0:u.teamDetail.ok)&&u.teamDetail.error?Object(a.jsx)(T,{}):Object(a.jsxs)("div",{className:"background flexBox h-screen",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Team Detail"})}),Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:m?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsxs)("div",{className:"flex items-center pb-8",children:[Object(a.jsx)("span",{className:"title w-auto pb-0",children:"Team Info"}),d&&d.me.role===fe.Individual&&!d.me.team&&Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-coolGray-900 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){var e;(null===u||void 0===u||null===(e=u.teamDetail.team)||void 0===e?void 0:e.id)&&p({variables:{input:{teamId:u.teamDetail.team.id}}})},children:f?"Loading...":"Join Team"}),d&&u&&d.me.role===fe.Member&&(null===(e=u.teamDetail.team)||void 0===e?void 0:e.id)&&(null===(t=d.me.team)||void 0===t?void 0:t.id)&&d.me.team.id===u.teamDetail.team.id&&Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-red-700 hover:bg-red-800 transition-colors duration-500 cursor-pointer",onClick:function(){C({})},children:B?"Loading...":"Leave Team"}),!j&&d&&(null===u||void 0===u?void 0:u.teamDetail.team)&&u.teamDetail.team.members.map((function(e,t){if(e.role===fe.Representative&&e.id===d.me.id)return Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-coolGray-900 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){var e;o.push({pathname:"/edit-team",state:{id:null===(e=u.teamDetail.team)||void 0===e?void 0:e.id}})},children:"Edit"},t)}))]}),(null===g||void 0===g?void 0:g.registerMember.error)&&Object(a.jsx)(q,{errorMessage:g.registerMember.error}),(null===I||void 0===I?void 0:I.leaveTeam.error)&&Object(a.jsx)(q,{errorMessage:I.leaveTeam.error}),Object(a.jsxs)("div",{className:"text-coolGray-200 font-medium grid gap-2 my-4 text-xl",children:[Object(a.jsxs)("div",{className:"py-1 text-4xl text-coolGray-300",children:[Object(a.jsx)(N.a,{icon:y.i})," ",Object(a.jsx)("span",{children:"Team Name"})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.r})," ",Object(a.jsx)("span",{children:null===u||void 0===u||null===(n=u.teamDetail.team)||void 0===n?void 0:n.teamName})]}),Object(a.jsxs)("div",{className:"py-1 pt-5 text-4xl text-coolGray-300",children:[Object(a.jsx)(N.a,{icon:y.c})," ",Object(a.jsx)("span",{children:"Member"})]}),(null===u||void 0===u||null===(i=u.teamDetail.team)||void 0===i?void 0:i.members)?u.teamDetail.team.members.map((function(e,t){return e.role===fe.Representative?Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.f})," ",Object(a.jsx)("span",{className:"hover:underline cursor-pointer",onClick:function(){return o.push("/user/".concat(e.id))},children:e.username})]},t):e.role===fe.Member?Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.d})," ",Object(a.jsx)("span",{className:"hover:underline cursor-pointer",onClick:function(){return o.push("/user/".concat(e.id))},children:e.username})]},t):void 0})):Object(a.jsx)(a.Fragment,{})]})]})})]})};function Le(){var e=Object(C.a)(["\n  mutation deleteTeam {\n    deleteTeam {\n      ok\n      error\n    }\n  }\n"]);return Le=function(){return e},e}function Ie(){var e=Object(C.a)(["\n  mutation editTeam($input: EditTeamInput!) {\n    editTeam(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return Ie=function(){return e},e}var Be=Object(c.gql)(Ie()),qe=Object(c.gql)(Le()),Ae=function(){var e,t=Object(v.g)(),n=Object(v.h)().state.id,i=ke(n.toString()),o=i.data,l=i.loading,s=Object(L.a)({mode:"onChange"}),d=s.getValues,j=s.register,b=s.handleSubmit,u=s.formState,m=Object(c.useMutation)(Be,{onCompleted:function(e){e.editTeam.ok&&(t.push("/team/".concat(n)),window.location.reload(!1))}}),x=Object(G.a)(m,2),h=x[0],p=x[1],O=p.data,g=p.loading,f=Object(c.useMutation)(qe,{onCompleted:function(e){e.deleteTeam.ok&&(t.push("/my-profile"),window.location.reload(!1))}}),N=Object(G.a)(f,2),k=N[0],y=N[1],w=y.data,C=y.loading;return o?Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Edit Team"})}),Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("span",{children:"Edit Team"})}),Object(a.jsx)("form",{className:"grid gap-4 w-5/12",onSubmit:b((function(){if(!g){var e=d().teamName;h({variables:{input:{teamName:e}}})}})),children:l?Object(a.jsx)("div",{className:"text-white text-2xl font-semibold tracking-wider w-auto my-4 text-center",children:"Loading..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("input",{ref:j({required:!0,validate:function(e){return""!==e}}),name:"teamName",type:"text",className:"input",placeholder:"Team Name",defaultValue:null===o||void 0===o||null===(e=o.teamDetail.team)||void 0===e?void 0:e.teamName,autoFocus:!0}),Object(a.jsx)(I,{canClick:u.isValid,loading:g,actionText:"Update"}),(null===O||void 0===O?void 0:O.editTeam.error)&&Object(a.jsx)(q,{errorMessage:O.editTeam.error})]})}),Object(a.jsxs)("form",{className:"grid gap-4 w-5/12",children:[Object(a.jsx)("button",{className:"text-white font-semibold py-3 mt-20 focus:outline-none bg-red-700 hover:bg-red-900 transition-colors duration-500",onClick:function(){C||k({})},type:"button",children:C?"Loading...":"Delete Team"}),(null===w||void 0===w?void 0:w.deleteTeam.error)&&Object(a.jsx)(q,{errorMessage:w.deleteTeam.error})]})]}):Object(a.jsx)(T,{})};function Se(){var e=Object(C.a)(["\n  mutation createTeam($input: CreateTeamInput!) {\n    createTeam(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return Se=function(){return e},e}var De=Object(c.gql)(Se()),Fe=function(){var e=Object(v.g)(),t=ce(),n=t.data,i=t.loading,o=Object(L.a)({mode:"onChange"}),l=o.getValues,s=o.register,d=o.handleSubmit,j=o.formState,b=Object(c.useMutation)(De,{onCompleted:function(t){t.createTeam.ok&&(e.push("/my-profile"),window.location.reload(!1))}}),u=Object(G.a)(b,2),m=u[0],x=u[1],h=x.data,p=x.loading;return!i&&n&&n.me.team?Object(a.jsx)(T,{}):Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Create Team"})}),Object(a.jsx)("div",{className:"title",children:Object(a.jsx)("span",{children:"Create Team"})}),Object(a.jsxs)("form",{className:"grid gap-4 w-5/12",onSubmit:d((function(){if(!p){var e=l().teamName;m({variables:{input:{teamName:e}}})}})),children:[Object(a.jsx)("input",{ref:s({required:!0,validate:function(e){return""!==e}}),name:"teamName",type:"text",className:"input",placeholder:"Team Name",autoFocus:!0}),Object(a.jsx)(I,{canClick:j.isValid,loading:p,actionText:"Create"}),(null===h||void 0===h?void 0:h.createTeam.error)&&Object(a.jsx)(q,{errorMessage:h.createTeam.error})]})]})};function Ue(){var e=Object(C.a)(["\n  query placeDetail($input: PlaceDetailInput!) {\n    placeDetail(input: $input) {\n      ok\n      error\n      place {\n        id\n        placeName\n        isAvailable\n        inUse\n        placeLocation {\n          id\n          locationName\n        }\n        bookings {\n          id\n          team {\n            id\n            teamName\n          }\n          startAt\n          endAt\n          inUse\n          isFinished\n        }\n      }\n    }\n  }\n"]);return Ue=function(){return e},e}var Me=Object(c.gql)(Ue()),Pe=function(){var e,t,n,i,o,l,s,d,j,b,u=Object(v.g)(),m=Object(v.i)().id,x=Object(c.useQuery)(Me,{variables:{input:{placeId:+m}}}),h=x.data,p=x.loading,O=(b=m,Object(c.useQuery)(K,{variables:{input:{isInProgress:!0,placeId:+b}}})),f=O.data,k=O.loading,w=function(e){return Object(c.useQuery)(K,{variables:{input:{isComingUp:!0,placeId:+e}}})}(m),T=w.data,G=w.loading;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Place Detail"})}),Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:p?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):!1===(null===h||void 0===h?void 0:h.placeDetail.ok)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Not Found"})}),Object(a.jsx)("h1",{className:"text-9xl text-coolGray-200 font-bold tracking-wide",children:"404"}),Object(a.jsx)("h4",{className:"text-3xl text-coolGray-200 font-semibold pb-6 tracking-wide",children:"Not Found :("}),Object(a.jsxs)("h6",{className:"py-2 text-coolGray-300",children:["Sorry, but the page you are looking for is not found."," "]}),Object(a.jsx)(g.b,{to:"/",className:"text-coolGray-400 hover:underline",children:"Home \u2192"})]}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("div",{className:"flex justify-between items-center pb-4",children:Object(a.jsx)("span",{className:"title w-max pb-0",children:null===h||void 0===h||null===(e=h.placeDetail.place)||void 0===e?void 0:e.placeName})}),Object(a.jsxs)("div",{className:"text-coolGray-200 font-semibold pt-6 pb-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:null===h||void 0===h||null===(t=h.placeDetail.place)||void 0===t?void 0:t.placeLocation.locationName})]}),Object(a.jsx)("div",{className:"text-coolGray-200 font-semibold py-2",children:!0===(null===h||void 0===h||null===(n=h.placeDetail.place)||void 0===n?void 0:n.isAvailable)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.o,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Available!"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.b,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Not Available"})]})}),Object(a.jsx)("span",{className:"title w-max pt-16 text-4xl",children:"In progress"}),Object(a.jsx)("div",{className:"flex flex-col items-center mb-12 mt-4",children:k?Object(a.jsx)("span",{className:"text-white text-2xl font-semibold tracking-wider pt-5 pb-8",children:"Loading..."}):0!==(null===f||void 0===f||null===(i=f.getBooking.bookings)||void 0===i?void 0:i.length)?null===f||void 0===f||null===(o=f.getBooking.bookings)||void 0===o?void 0:o.map((function(e,t){var n;return Object(a.jsxs)("div",{className:"bookingArgs mb-0",children:[Object(a.jsxs)("div",{className:"bookingTime",children:[Object(a.jsxs)("span",{className:"hover:underline cursor-pointer",onClick:function(){return u.push("/booking/".concat(e.id))},children:[H(e.startAt)," ~ ",H(e.endAt)]}),(null===(n=e.team)||void 0===n?void 0:n.id)&&Object(a.jsx)("span",{className:"px-2 ml-3 rounded-lg bg-coolGray-700 cursor-pointer",onClick:function(){var t;return u.push("/team/".concat(null===(t=e.team)||void 0===t?void 0:t.id))},children:"With Team"})]}),Object(a.jsxs)("div",{className:"mb-4 w-auto flex items-center",children:[Object(a.jsx)(N.a,{icon:y.e,className:"text-coolGray-200"})," ",Object(a.jsx)(W.a,{date:e.endAt,renderer:J})]}),Object(a.jsxs)("div",{className:"text-coolGray-400 py-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:e.place.placeName}),Object(a.jsxs)("span",{className:"font-semibold text-coolGray-200",children:[" ","\u2219"," "]}),Object(a.jsx)("span",{children:e.place.placeLocation.locationName})]})]},t)})):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Booking :("}),!0===(null===h||void 0===h||null===(l=h.placeDetail.place)||void 0===l?void 0:l.isAvailable)?Object(a.jsx)(g.b,{to:"/create-in-use",className:"text-coolGray-300 font-light hover:underline",children:"Create inUse booking \u2192"}):Object(a.jsx)(a.Fragment,{})]})}),Object(a.jsx)("span",{className:"title w-max pt-16 text-4xl",children:"Coming up next"}),Object(a.jsx)("div",{className:"flex flex-col items-center mb-12 mt-4",children:G?Object(a.jsx)("span",{children:"Loading..."}):0!==(null===T||void 0===T||null===(s=T.getBooking.bookings)||void 0===s?void 0:s.length)?null===T||void 0===T||null===(d=T.getBooking.bookings)||void 0===d?void 0:d.map((function(e,t){var n;return Object(a.jsxs)("div",{className:"bookingArgs",children:[Object(a.jsxs)("div",{className:"bookingTime",children:[Object(a.jsxs)("span",{className:"hover:underline cursor-pointer",onClick:function(){return u.push("/booking/".concat(e.id))},children:[H(e.startAt)," ~ ",H(e.endAt)]}),(null===(n=e.team)||void 0===n?void 0:n.id)&&Object(a.jsx)("span",{className:"px-2 ml-3 rounded-lg bg-coolGray-700 cursor-pointer",onClick:function(){var t;return u.push("/team/".concat(null===(t=e.team)||void 0===t?void 0:t.id))},children:"With Team"})]}),Object(a.jsxs)("div",{className:"text-coolGray-400 py-2",children:[Object(a.jsx)(N.a,{icon:y.k,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:e.place.placeName}),Object(a.jsxs)("span",{className:"font-semibold text-coolGray-200",children:[" ","\u2219"," "]}),Object(a.jsx)("span",{children:e.place.placeLocation.locationName})]})]},t)})):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Booking :("}),!0===(null===h||void 0===h||null===(j=h.placeDetail.place)||void 0===j?void 0:j.isAvailable)?Object(a.jsx)(g.b,{to:"/create-booking",className:"text-coolGray-300 font-light hover:underline",children:"Create new booking \u2192"}):Object(a.jsx)(a.Fragment,{})]})})]})})]})};function $e(){var e=Object(C.a)(["\n  query getTeams {\n    getTeams {\n      ok\n      error\n      teams {\n        id\n        teamName\n        members {\n          id\n        }\n      }\n    }\n  }\n"]);return $e=function(){return e},e}var Ee=Object(c.gql)($e()),Ve=function(){var e,t=Object(v.g)(),n=ce(),i=n.data,o=n.loading,l=Object(c.useQuery)(Ee),s=l.data,d=l.loading,j=Object(L.a)(),b=j.getValues,u=j.register,m=j.handleSubmit;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Teams"})}),d&&o?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsxs)("div",{className:"flex items-center pb-8",children:[Object(a.jsx)("span",{className:"title w-auto pb-0",children:"Teams"}),(null===i||void 0===i?void 0:i.me)&&i.me.team?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-coolGray-900 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){t.push("/create-team")},children:"Create Team"})]}),Object(a.jsx)("div",{className:"py-2",children:Object(a.jsx)("form",{onSubmit:m((function(){var e=b().query;t.push({pathname:"/search-team",search:"?term=".concat(e)})})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:u(),placeholder:"Search Team...",className:"input bg-coolGray-900 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})}),(null===s||void 0===s?void 0:s.getTeams.teams)&&0!==(null===s||void 0===s?void 0:s.getTeams.teams.length)?null===(e=s.getTeams.teams)||void 0===e?void 0:e.map((function(e,n){return Object(a.jsxs)("div",{className:"searchList",children:[Object(a.jsx)("div",{className:"pt-1 pb-4 text-3xl hover:underline cursor-pointer",onClick:function(){t.push("/team/".concat(e.id))},children:e.teamName}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.r})," ",e.members.length]})]},n)})):Object(a.jsxs)("div",{className:"flex flex-col items-center mb-12 mt-4",children:[Object(a.jsx)("span",{className:"text-3xl text-coolGray-200 font-semibold tracking-wide mb-6",children:"There is no Team :("}),Object(a.jsx)(g.b,{to:"/create-team",className:"text-coolGray-300 font-light hover:underline",children:"Create new team \u2192"})]})]})})]})};function Qe(){var e=Object(C.a)(["\n  query searchTeam($input: SearchTeamInput!) {\n    searchTeam(input: $input) {\n      ok\n      error\n      teams {\n        id\n        teamName\n        members {\n          id\n        }\n      }\n    }\n  }\n"]);return Qe=function(){return e},e}var Re=Object(c.gql)(Qe()),We=function(){var e,t,n=Object(v.h)(),o=Object(v.g)(),l=n.search.split("="),s=Object(G.a)(l,2),d=(s[0],s[1]),j=ce(),b=j.data,u=j.loading,m=Object(c.useLazyQuery)(Re,{variables:{input:{query:d}}}),x=Object(G.a)(m,2),h=x[0],p=x[1],O=p.data,g=p.loading;Object(i.useEffect)((function(){d||o.replace("/teams"),h({variables:{input:{query:d}}})}),[o]);var f=Object(L.a)(),k=f.getValues,w=f.register,T=f.handleSubmit;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Search Team"})}),g&&u?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):0!==(null===O||void 0===O||null===(e=O.searchTeam.teams)||void 0===e?void 0:e.length)?Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsxs)("div",{className:"flex items-center pb-8",children:[Object(a.jsx)("span",{className:"title w-auto pb-0",children:"Teams"}),(null===b||void 0===b?void 0:b.me)&&b.me.team?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("span",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 ml-auto rounded-lg bg-coolGray-900 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){o.push("/create-team")},children:"Create Team"})]}),Object(a.jsx)("div",{className:"py-4",children:Object(a.jsx)("form",{onSubmit:T((function(){var e=k().query;o.push({pathname:"/search-place",search:"?term=".concat(e)}),window.location.reload(!1)})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:w(),placeholder:"Search Place...",className:"input bg-coolGray-900 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})}),null===O||void 0===O||null===(t=O.searchTeam.teams)||void 0===t?void 0:t.map((function(e,t){return Object(a.jsxs)("div",{className:"searchList",children:[Object(a.jsx)("div",{className:"pt-1 pb-4 text-3xl hover:underline cursor-pointer",onClick:function(){o.push("/team/".concat(e.id))},children:e.teamName}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.r})," ",e.members.length]})]},t)}))]})}):Object(a.jsxs)("div",{className:"flex flex-col items-center mt-0 pt-0",children:[Object(a.jsx)("h1",{className:"text-9xl text-coolGray-200 font-bold tracking-wide",children:"404"}),Object(a.jsx)("h4",{className:"text-3xl text-coolGray-200 font-semibold pb-6 tracking-wide",children:"Team Not Found :("}),Object(a.jsxs)("h6",{className:"py-2 text-coolGray-300",children:["Sorry, but the team you are looking for is not found."," "]}),Object(a.jsx)("div",{className:"py-2",children:Object(a.jsx)("form",{onSubmit:T((function(){var e=k().query;o.push({pathname:"/search-team",search:"?term=".concat(e)}),window.location.reload(!1)})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:w(),placeholder:"Search Team...",className:"input bg-coolGray-800 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})}),(null===b||void 0===b?void 0:b.me)&&b.me.team?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)("div",{className:"text-coolGray-200 text-xl font-semibold px-7 py-1.5 mt-6 rounded-lg bg-coolGray-600 hover:bg-black transition-colors duration-500 cursor-pointer",onClick:function(){o.push("/create-team")},children:"Create Team"})]})]})};function He(){var e=Object(C.a)(["\n  query getLocation {\n    getLocation {\n      ok\n      error\n      locations {\n        id\n        locationName\n        places {\n          id\n          placeName\n          inUse\n          isAvailable\n        }\n      }\n    }\n  }\n"]);return He=function(){return e},e}var ze=Object(c.gql)(He()),Je=function(){var e=Object(v.g)(),t=Object(c.useQuery)(ze),n=t.data,i=t.loading,o=Object(L.a)(),l=o.handleSubmit,s=o.getValues,d=o.register;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Places"})}),Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:i?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title",children:"Places"}),Object(a.jsx)("div",{className:"pt-4",children:Object(a.jsx)("form",{onSubmit:l((function(){var t=s().query;e.push({pathname:"/search-place",search:"?term=".concat(t)})})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:d(),placeholder:"Search Team...",className:"input bg-coolGray-900 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})}),(null===n||void 0===n?void 0:n.getLocation.locations)&&n.getLocation.locations.map((function(t,n){var c;return Object(a.jsxs)("div",{className:"searchList px-0 bg-coolGray-800",children:[Object(a.jsx)("div",{className:"text-4xl",children:t.locationName}),null===(c=t.places)||void 0===c?void 0:c.map((function(t,n){return Object(a.jsxs)("div",{className:"cursor-pointer searchList mb-0",onClick:function(){e.push("/place/".concat(t.id))},children:[Object(a.jsx)("div",{className:"text-3xl",children:t.placeName}),Object(a.jsx)("div",{className:"mt-8",children:t.isAvailable?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.o,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Available"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.b,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Not Available"})]})}),Object(a.jsx)("div",{children:t.inUse?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.m,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"In Use Now"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.l,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Not In Use Now"})]})})]},n)}))]},n)}))]})})]})};function _e(){var e=Object(C.a)(["\n  query searchPlace($input: SearchPlaceInput!) {\n    searchPlace(input: $input) {\n      ok\n      error\n      places {\n        id\n        placeName\n        inUse\n        isAvailable\n        placeLocation {\n          id\n          locationName\n        }\n      }\n    }\n  }\n"]);return _e=function(){return e},e}var Ke=Object(c.gql)(_e()),Ye=function(){var e,t,n=Object(v.h)(),o=Object(v.g)(),l=n.search.split("="),s=Object(G.a)(l,2),d=(s[0],s[1]),j=Object(L.a)(),b=j.getValues,u=j.register,m=j.handleSubmit,x=Object(c.useLazyQuery)(Ke,{variables:{input:{query:d}}}),h=Object(G.a)(x,2),p=h[0],O=h[1],f=O.data,k=O.loading;return Object(i.useEffect)((function(){d||o.replace("/places"),p({variables:{input:{query:d}}})}),[o]),Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Search Place"})}),k?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):0!==(null===f||void 0===f||null===(e=f.searchPlace.places)||void 0===e?void 0:e.length)?Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("span",{className:"title",children:"Places"}),Object(a.jsx)("div",{className:"py-4",children:Object(a.jsx)("form",{onSubmit:m((function(){var e=b().query;o.push({pathname:"/search-place",search:"?term=".concat(e)}),window.location.reload(!1)})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:u(),placeholder:"Search Place...",className:"input bg-coolGray-900 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})}),null===f||void 0===f||null===(t=f.searchPlace.places)||void 0===t?void 0:t.map((function(e,t){return Object(a.jsxs)("div",{className:"searchList",children:[Object(a.jsx)(g.b,{to:"/place/".concat(e.id),children:Object(a.jsx)("div",{className:"text-3xl hover:underline",children:e.placeName})}),Object(a.jsxs)("div",{className:"mt-8 ml-1",children:[Object(a.jsx)(N.a,{icon:y.k})," ",Object(a.jsx)("span",{children:e.placeLocation.locationName})]}),Object(a.jsx)("div",{children:e.isAvailable?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.o,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Available"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.b,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Not Available"})]})}),Object(a.jsx)("div",{children:e.inUse?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.m,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"In Use Now"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(N.a,{icon:y.l,className:"text-coolGray-200"})," ",Object(a.jsx)("span",{children:"Not In Use Now"})]})})]},t)}))]})}):Object(a.jsxs)("div",{className:"flex flex-col items-center mt-0 pt-0",children:[Object(a.jsx)("h1",{className:"text-9xl text-coolGray-200 font-bold tracking-wide",children:"404"}),Object(a.jsx)("h4",{className:"text-3xl text-coolGray-200 font-semibold pb-6 tracking-wide",children:"Place Not Found :("}),Object(a.jsxs)("h6",{className:"py-2 text-coolGray-300",children:["Sorry, but the place you are looking for is not found."," "]}),Object(a.jsx)("div",{className:"py-2",children:Object(a.jsx)("form",{onSubmit:m((function(){var e=b().query;o.push({pathname:"/search-place",search:"?term=".concat(e)}),window.location.reload(!1)})),children:Object(a.jsx)("input",{type:"search",name:"query",ref:u(),placeholder:"Search Place...",className:"input bg-coolGray-800 border-none w-full rounded-md text-coolGray-200",autoFocus:!0})})})]})]})};function Xe(){var e=Object(C.a)(["\n  query getUser($input: GetUserInput!) {\n    getUser(input: $input) {\n      ok\n      error\n      user {\n        id\n        username\n        role\n        team {\n          id\n          teamName\n        }\n      }\n    }\n  }\n"]);return Xe=function(){return e},e}var Ze=Object(c.gql)(Xe()),et=function(){var e,t,n,i=Object(v.g)(),o=Object(v.i)().id,l=Object(c.useQuery)(Ze,{variables:{input:{userId:+o}}}),s=l.data,d=l.loading;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - User Profile"})}),Object(a.jsx)("div",{className:"flex flex-col justify-center items-center w-full min-h-full",children:d?Object(a.jsx)("span",{className:"loading",children:"Loading..."}):!1===(null===s||void 0===s?void 0:s.getUser.ok)?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Not Found"})}),Object(a.jsx)("h1",{className:"text-9xl text-coolGray-200 font-bold tracking-wide",children:"404"}),Object(a.jsx)("h4",{className:"text-3xl text-coolGray-200 font-semibold pb-6 tracking-wide",children:"Not Found :("}),Object(a.jsxs)("h6",{className:"py-2 text-coolGray-300",children:["Sorry, but the page you are looking for is not found."," "]}),Object(a.jsx)(g.b,{to:"/",className:"text-coolGray-400 hover:underline",children:"Home \u2192"})]}):Object(a.jsxs)("div",{className:"bookingList",children:[Object(a.jsx)("div",{className:"flex items-center pb-8",children:Object(a.jsx)("span",{className:"title w-auto pb-0",children:"User Profile"})}),Object(a.jsxs)("div",{className:"text-coolGray-200 font-medium grid gap-2 my-4 text-xl",children:[Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.a})," ",Object(a.jsx)("span",{children:null===s||void 0===s||null===(e=s.getUser.user)||void 0===e?void 0:e.username})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.n})," ",Object(a.jsx)("span",{children:null===s||void 0===s||null===(t=s.getUser.user)||void 0===t?void 0:t.role})]}),Object(a.jsxs)("div",{className:"py-1",children:[Object(a.jsx)(N.a,{icon:y.r})," ",(null===s||void 0===s||null===(n=s.getUser.user)||void 0===n?void 0:n.team)?Object(a.jsx)("span",{className:"cursor-pointer hover:underline",onClick:function(){var e,t;i.push("/team/".concat(null===(e=s.getUser.user)||void 0===e||null===(t=e.team)||void 0===t?void 0:t.id))},children:s.getUser.user.team.teamName}):"No Team"]})]})]})})]})},tt=function(){return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(w,{}),Object(a.jsxs)(v.d,{children:[Object(a.jsx)(v.b,{path:"/",exact:!0,children:Object(a.jsx)(te,{})},1),Object(a.jsx)(v.b,{path:"/create-in-use",exact:!0,children:Object(a.jsx)(E,{})},2),Object(a.jsx)(v.b,{path:"/create-booking",exact:!0,children:Object(a.jsx)(R,{})},3),Object(a.jsx)(v.b,{path:"/my-profile",exact:!0,children:Object(a.jsx)(ie,{})},4),Object(a.jsx)(v.b,{path:"/edit-profile",exact:!0,children:Object(a.jsx)(de,{})},5),Object(a.jsx)(v.b,{path:"/booking/:id",exact:!0,children:Object(a.jsx)(he,{})},6),Object(a.jsx)(v.b,{path:"/edit-booking/:id",exact:!0,children:Object(a.jsx)(ge,{})},7),Object(a.jsx)(v.b,{path:"/team/:id",exact:!0,children:Object(a.jsx)(Ce,{})},8),Object(a.jsx)(v.b,{path:"/edit-team",exact:!0,children:Object(a.jsx)(Ae,{})},9),Object(a.jsx)(v.b,{path:"/create-team",exact:!0,children:Object(a.jsx)(Fe,{})},10),Object(a.jsx)(v.b,{path:"/place/:id",exact:!0,children:Object(a.jsx)(Pe,{})},11),Object(a.jsx)(v.b,{path:"/teams",exact:!0,children:Object(a.jsx)(Ve,{})},12),Object(a.jsx)(v.b,{path:"/search-team",exact:!0,children:Object(a.jsx)(We,{})},13),Object(a.jsx)(v.b,{path:"/places",exact:!0,children:Object(a.jsx)(Je,{})},14),Object(a.jsx)(v.b,{path:"/search-place",exact:!0,children:Object(a.jsx)(Ye,{})},15),Object(a.jsx)(v.b,{path:"/user/:id",exact:!0,children:Object(a.jsx)(et,{})},16),Object(a.jsx)(v.b,{children:Object(a.jsx)(T,{})})]}),Object(a.jsx)(k,{})]})};function nt(){var e=Object(C.a)(["\n  mutation login($input: LoginInput!) {\n    login(input: $input) {\n      ok\n      error\n      token\n    }\n  }\n"]);return nt=function(){return e},e}var at=Object(c.gql)(nt()),ct=function(){var e,t,n,i=Object(L.a)({mode:"onChange"}),o=i.register,l=i.getValues,s=i.handleSubmit,d=i.formState,j=i.errors,u=Object(v.g)(),m=Object(c.useMutation)(at,{onCompleted:function(e){var t=e.login,n=t.ok,a=t.token;n&&a&&(localStorage.setItem(b,a),x(a),u.push("/"),window.location.reload(!1))}}),h=Object(G.a)(m,2),p=h[0],O=h[1],f=O.data,N=O.loading;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Login"})}),Object(a.jsx)("div",{className:"title",children:"Welcome back!"}),Object(a.jsxs)("form",{className:"grid gap-4 w-5/12",onSubmit:s((function(){if(!N){var e=l(),t=e.username,n=e.password;p({variables:{input:{username:t,password:n}}})}})),children:[Object(a.jsx)("input",{ref:o({required:"Required"}),name:"username",type:"text",className:"input",placeholder:"Username",autoFocus:!0}),(null===(e=j.username)||void 0===e?void 0:e.message)&&Object(a.jsx)(q,{errorMessage:j.username.message}),Object(a.jsx)("input",{ref:o({required:"Required",minLength:8}),name:"password",type:"password",className:"input",placeholder:"Password"}),(null===(t=j.password)||void 0===t?void 0:t.message)&&Object(a.jsx)(q,{errorMessage:j.password.message}),"minLength"===(null===(n=j.password)||void 0===n?void 0:n.type)&&Object(a.jsx)(q,{errorMessage:"Password should be more than or equal 8 chars"}),Object(a.jsx)(I,{canClick:d.isValid,loading:N,actionText:"Login"}),(null===f||void 0===f?void 0:f.login.error)&&Object(a.jsx)(q,{errorMessage:f.login.error})]}),Object(a.jsxs)("h5",{className:"pt-4 font-light text-white",children:["New to Booking?",Object(a.jsxs)(g.b,{to:"/signup",className:"text-coolGray-300  hover:underline",children:[" ","Sign up"]})]})]})};function it(){var e=Object(C.a)(["\n  mutation createUser($input: CreateUserInput!) {\n    createUser(input: $input) {\n      ok\n      error\n    }\n  }\n"]);return it=function(){return e},e}var ot=Object(c.gql)(it()),lt=function(){var e,t,n,i,o=Object(L.a)({mode:"onChange"}),l=o.register,s=o.getValues,d=o.handleSubmit,j=o.formState,b=o.errors,u=Object(v.g)(),m=Object(c.useMutation)(ot,{onCompleted:function(e){e.createUser.ok&&u.push("/")}}),x=Object(G.a)(m,2),h=x[0],p=x[1],O=p.data,f=p.loading;return Object(a.jsxs)("div",{className:"background flexBox",children:[Object(a.jsx)(r.a,{children:Object(a.jsx)("title",{children:"Booking - Signup"})}),Object(a.jsx)("div",{className:"title",children:"Let's get started!"}),Object(a.jsxs)("form",{className:"grid gap-4 w-5/12",onSubmit:d((function(){if(!f){var e=s(),t=e.username,n=e.password,a=e.studentId;h(a?{variables:{input:{username:t,password:n,studentId:a}}}:{variables:{input:{username:t,password:n}}})}})),children:[Object(a.jsx)("input",{ref:l({required:"Required"}),name:"username",type:"text",className:"input",placeholder:"Username",autoFocus:!0}),(null===(e=b.username)||void 0===e?void 0:e.message)&&Object(a.jsx)(q,{errorMessage:b.username.message}),Object(a.jsx)("input",{ref:l({required:"Required",minLength:8}),name:"password",type:"password",className:"input",placeholder:"Password"}),(null===(t=b.password)||void 0===t?void 0:t.message)&&Object(a.jsx)(q,{errorMessage:b.password.message}),"minLength"===(null===(n=b.password)||void 0===n?void 0:n.type)&&Object(a.jsx)(q,{errorMessage:"Password should be more than or equal 8 chars"}),Object(a.jsx)("input",{ref:l({valueAsNumber:!0,validate:function(e){return!e||e&&6===e.toString().length}}),name:"studentId",type:"text",className:"input",placeholder:"Student ID  *optional"}),"validate"===(null===(i=b.studentId)||void 0===i?void 0:i.type)&&Object(a.jsx)(q,{errorMessage:"Student ID should be equal 6 numbers"}),Object(a.jsx)(I,{canClick:j.isValid,loading:f,actionText:"Sign Up"}),(null===O||void 0===O?void 0:O.createUser.error)&&Object(a.jsx)(q,{errorMessage:O.createUser.error})]}),Object(a.jsxs)("h5",{className:"pt-4 font-light text-white",children:["Already have an account?",Object(a.jsxs)(g.b,{to:"/",className:"text-coolGray-300  hover:underline",children:[" ","Login"]})]})]})},st=function(){return Object(a.jsxs)(g.a,{children:[Object(a.jsx)(w,{}),Object(a.jsxs)(v.d,{children:[Object(a.jsx)(v.b,{path:"/signup",exact:!0,children:Object(a.jsx)(lt,{})}),Object(a.jsx)(v.b,{path:"/",exact:!0,children:Object(a.jsx)(ct,{})}),Object(a.jsx)(v.b,{path:"/logout",exact:!0,children:Object(a.jsx)(v.a,{to:"/"})}),Object(a.jsx)(v.b,{children:Object(a.jsx)(T,{})})]}),Object(a.jsx)(k,{})]})};var rt=function(){return Object(c.useReactiveVar)(m)?Object(a.jsx)(tt,{}):Object(a.jsx)(st,{})},dt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,106)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),i(e),o(e)}))};n(103);s.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(r.b,{children:Object(a.jsx)(c.ApolloProvider,{client:O,children:Object(a.jsx)(rt,{})})})}),document.getElementById("root")),dt()}},[[104,1,2]]]);
//# sourceMappingURL=main.23242508.chunk.js.map